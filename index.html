<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" href="Images/icon-06.png" type="image/x-icon">
    <title>What is Noise?</title>
</head>
<!-- Nav Bar -->
<body style="background-color: #191919">
<div class="topnav">
    <a class="active" href="index.html">What is Noise?</a>
    <a href="what_is_colour.html">What is Colour?</a>
    <a href="how_they_connect.html">The Connection</a>
    <a href="pick_your_colour.html">Pick Your Colour</a>
    <a href="white_noise.html"> White</a>
    <a href="pink_noise.html"> Pink</a>
    <a href="blue_noise.html">Blue</a>
    <a href="brown_noise.html"> Brown</a>
    <a href="violet_noise.html"> Violet</a>
</div>

<!-- Banner Section -->
<div class="hero-image">
    <!-- <div class="hero-text">
        <h1>How is Noise Created?</h1>
        <p>Find out how we understand noise below!</p>
    </div> -->
</div>


<!-- Waveform interaction Section -->
<section id="sec-1">
    <div class="sec-1Container">
        <div class="noisetext">
            <h1>How is Noise Created?</h1>
            <p>Noise is created when something vibrates and sends waves of energy into our ears.
                 As the waves of energy continue to travel, they create patterns of disturbance.</p>
                 <p> We visualise these disturbances with waveforms! </p>
        </div>
        <div class="waveformImage">
            <img src="Images/eeee.jpg">
            <div class="textContainer">
                <div class="noisetext2">
                    <h1> Waveform Terminology</h1>
                    <p>Amplitude is the maximum disturbance a wave creates.</p>
                    <p>The larger the amplitude, the louder the noise is.
                        The smaller the amplitude, the quieter the noise is.
                    </p>
                </div>
                <div class="noisetext3">
                    <p>Wavelength is the distance between each crest of the wave.</p>
                </div>
            </div>
        </div>
        <div class="noiseimgplaceholder">
            <h1>Try it Out!</h1>
            <p> Press "Start" to see how different waveforms are made</p>
            <div id="p5CanvasContainer" class="p5CanvasContainer"></div>
            <button onclick="playOscillator()">Start Oscillator</button> 
            <button onclick="stopOscillator()">Stop Oscillator</button>
        </div>
    </div>
</section>



<!-- Frequency Info section -->
<!-- Please add more -->
<section id="sec-2">
    <div class="container">
        <div class="noisetext2">
            <h1>Frequency?</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi obcaecati unde eum laborum officiis est maxime enim, aspernatur numquam doloribus.</p>
        </div>
        <div class="noiseimgplaceholder">
            <div id="frequencyP5Container" class="frequencyP5Container"></div>
            <button onclick="startPlayingOscillator()">Start Oscillator</button>
            <button onclick="stopPlayingOscillator()">Stop Oscillator</button>
        </div>
    </div>
</section>

<!-- P5.JS sound and complete library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js" integrity="sha512-uaz5GpnQoE6t5echKlX8P52czvsIGgLPcvlzfvRubLZ1Hp8JemUDnbUiAahbVtPb+jUVrNETuXvAhDDF/N3M4w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.min.js" integrity="sha512-WzkwpdWEMAY/W8WvP9KS2/VI6zkgejR4/KTxTl4qHx0utqeyVE0JY+S1DlMuxDChC7x0oXtk/ESji6a0lP/Tdg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    let osc, fft;
    let playing = false;


    // Waveform Interaction
    function setup() {
        let canvas = createCanvas(920, 456);
        canvas.parent('p5CanvasContainer');
        osc = new p5.SinOsc(); // set frequency and type
        osc.amp(0.5);
        fft = new p5.FFT();
    }

    function draw() {
        background(255);
        let waveform = fft.waveform(); // analyze the waveform
        beginShape();
        strokeWeight(5);
        for (let i = 0; i < waveform.length; i++) {
            let x = map(i, 0, waveform.length, 0, width);
            let y = map(waveform[i], -1, 1, height, 0);
            vertex(x, y);
        }
        endShape();
        let freq = map(mouseX, 0, width, 40, 880);
        osc.freq(freq);
        let amp = map(mouseY, 0, height, 1, 0.01);
        osc.amp(amp);
    }

    function playOscillator() {
        if (!playing) {
            osc.start();
            playing = true;
        }
    }

    function stopOscillator() {
        if (playing) {
            osc.stop();
            playing = false;
        }
    }
</script>

<!-- Second Canvas -->
<script>
    // Frequency Interaction
    var sketch = function(p) {
        let osc2; // second osc
        let isOscillatorStarted = false;
        const minFrequency = 20;   // 20 - 20,000 range, numbers to show the change
        const maxFrequency = 20000;

        p.setup = function() {
            let canvas = p.createCanvas(720, 256);
            canvas.parent('frequencyP5Container');
            osc2 = new p5.Oscillator();
            osc2.setType('sine');
            osc2.freq(0);
        };

        p.draw = function() {
            p.background(220);
            if (isOscillatorStarted) {
                let f = p.constrain(p.map(p.mouseX, 0, p.width, minFrequency, maxFrequency), minFrequency, maxFrequency);
                osc2.freq(f);
                p.textSize(24);
                p.textAlign(p.CENTER, p.CENTER);
                p.text(Math.round(f) + "Hz", p.width/2, p.height/2);
            }
        };
        // start osc 2
        window.startPlayingOscillator = function() {
            if (!isOscillatorStarted) {
                osc2.start();
                isOscillatorStarted = true;
            }
        };
        // stop osc 2
        window.stopPlayingOscillator = function() {
            if (isOscillatorStarted) {
                osc2.stop();
                isOscillatorStarted = false;
            }
        };
    };

    var myp5 = new p5(sketch);
</script>

</body>
</html>
